<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Homes Template">
    <meta name="keywords" content="Homes, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Wild Cry | Search</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i"
          rel="stylesheet">
    <link rel="shortcut icon" href="logo-icon.png" type="image/x-icon">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/flaticon.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">

    <!-- JS Plugin -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/main.js"></script>
    <script src="js/data.js"></script>

</head>

<body onload="myFunction()">
    <!-- Header Section Begin -->
    <header class="header-section">
        <div class="container-fluid">
            <!-- 1st Row Begin -->
            <div class="row">
                <!-- 1st Column Begin -->
                <div class="col-lg-12">
                    <!-- Logo Begin -->
                    <div class="logo">
                        <a href="./home.html">
                            <img src="logo7.png" alt="">
                        </a>
                    </div>
                    <!-- Logo End -->
                    <!-- Navigation Begin -->
                    <ul class="main-menu">
                        <li>
                            <a href="./home.html">Home</a>
                        </li>
                        <li>
                            <div class="dropdown">
                                <a href="#">Search</a>
                                <div class="dropdown-content">
                                    <a class="secondary-menu" href="#" onclick="AUS();">Species</a>
                                    <a class="secondary-menu" href="#" onclick="Threats();">Threats</a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <a href="./about.html">About Us</a>
                        </li>
                    </ul>
                    <!-- Navigation End -->
                    <!-- Mobile Menu Begin -->
                    <div id="mobile-menu-wrap"></div>
                    <!-- Mobile Menu End -->
                </div>
                <!-- 1st Column End -->
            </div>
            <!-- 1st Row End -->
        </div>
    </header>
    <!-- Header Section End -->
    <!-- Green Border Begin -->
    <section class="hero-section home-page set-bg search-header" data-setbg="img/bg.jpg">
        <div class="container2 hero-text text-white">
            <h2>Regions in</h2>
            <h1 id="heading"></h1>
        </div>
    </section>
    <!-- Green Border End -->
    <!-- Filter Search Section Begin -->
    <div class="filter-search">
        <div class="container1">
            <div class="row-form">
                <div class="col-lg-12">
                    <form class="filter-form">
                        <div class="onKey">
                            <p>
                                Search for an Endangered Species
                            </p>

                            <input class="form-control form-control-lg" type="text" placeholder="&#x1F50D;  Search" onkeyup="Search();" id="search">
                            <input class="type" id="search" type="text" placeholder="" title="Type in a name">
                            <div id="error">
                                An invalid character was found.
                            </div>
                        </div>

                    </form>
                </div>
            </div>
            <div class="row-form">
                <div class="col-lg-8">
                    <form class="filter-form">
                        <div class="search-type">
                            <p>State</p>
                            <select class="filter-property" id="states-selected" onchange="changeData();">
                                <option selected>All</option>
                                <option>Australian Captial Terittory</option>
                                <option>New South Wales</option>
                                <option>Nothern Terittory</option>
                                <option>Queensland</option>
                                <option>South Australia</option>
                                <option>Tasmania</option>
                                <option>Victoria</option>
                                <option>Western Australia</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="col-lg-4">
                    <form class="filter-form">
                        <div class="search-type">
                            <p>Sort By</p>
                            <select class="filter-property" id="sort-selected" onchange="changeData();">
                                <option selected>Ranking (low to high)</option>
                                <option>Ranking (high to low)</option>
                                <option>A - Z</option>
                                <option>Z - A</option>
                            </select>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Filter Search Section End -->
    <!-- Species Images Begin -->
    <section class="hotel-rooms spad">
        <div class="container">
            <div class="row" id="species">
            </div>
        </div>
    </section>
    <!-- Species Images End -->
    <!-- Footer Section Begin -->
    <footer class="footer-section p-40">
        <div class="container">
            <!-- 1st Row Begin -->
            <div class="row">
                <!-- 1st Column Begin -->
                <div class="col-lg-12 text-center">
                    <a href="./home.html">
                        <img src="logo7.png" alt="">
                    </a>
                </div>
                <!-- 1st Column End -->
            </div>
            <!-- 1st Row End -->
            <!-- 2nd Row Begin -->
            <div class="row text-center d-flex justify-content-center pt-5 mb-3">
                <!-- 1st Column Begin -->
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="./home.html">Home</a>
                    </h6>
                </div>
                <!-- 1st Column End -->
                <!-- 2nd Column Begin -->
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="./about.html">About Us</a>
                    </h6>
                </div>
                <!-- 2nd Column End -->
                <!-- 3rd Column Begin -->
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="#" onclick="AUS();">Search</a>
                    </h6>
                </div>
                <!-- 3rd Column End -->
                <!-- 4th Column Begin -->
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="./terms and conditions.html" onclick="AUS();">Terms of Use</a>
                    </h6>
                </div>
                <!-- 4th Column End -->
                <!-- 5th Column Begin -->
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="./privacy policy.html" onclick="AUS();">Privacy policy</a>
                    </h6>
                </div>
                <!-- 5th Column End -->
            </div>
            <!-- 2nd Row End -->
        </div>
        <!-- 3rd Row Begin -->
        <div class="row p-20">
            <!-- 1st Column Begin -->
            <div class="col-lg-12 text-center copyright">
                <div>
                    Copyright &copy;
                    <script>
                        document.write(new Date().getFullYear());
                    </script>
                    All rights reserved | Wild Cry
                </div>
            </div>
            <!-- 1st Column End -->
        </div>
        <!-- 3rd Row End -->
    </footer>
    <!-- Footer Section End -->
    <!-- Js Plugins -->
    <script type="text/javascript">

        // Prevent the page from reloading on enter key
        document.getElementById("search")
            .addEventListener("keyup", function(event) {
            event.preventDefault();
            if (event.keyCode === 13) {
                document.getElementById("id_of_button").click();
            }
        });

        function emptySearch(){
            document.getElementById("search").value = "";
        }

        function AUS(){
        /*
        @author: Ishika Wikramanayake
        @start_date: 25-08-2019
        @end_date: 25-08-2019
        @description: Opens the index.html page and passes the variable "value"
        */
            var value = "Australia";
            window.location.href = "index.html?category="+value;
        }

        function Threats(){
        /*
        @author: Ishika Wikramanayake
        @start_date: 13-09-2019
        @end_date: 13-09-2019
        @description: Opens the index2.html page
        */
            window.location.href = "index2.html";
        }

        function myFunction() {
        /*
        @author: Ishika Wikramanayake
        @start_date: 27-08-2019
        @end_date: 13-09-2019
        @description: Displays the endangered species images as needed
        */
            // get the category sent from previous page
            var category = decodeURIComponent(window.location.search);
            category = category.substring(10);

            // update the heading with the category
            document.getElementById("heading").innerHTML = category;

            updateFilterForm(category);
            var row = document.getElementById("species");
            var unique = {};

            // check which section was selected in the previous page
            if (category == "Australia") {
                for (var i = 0; i < data.length; i++) {
                    unique = populateSpecies(i, row, unique, data[i]);
                }
            }
            else {
                if (category == "Australian Capital Territory" || category == "New South Wales" || category == "Northern Territory" || category == "Queensland" || category == "South Australia" || category == "Tasmania" || category == "Victoria" || category == "Western Australia") {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == category) {
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                else {
                    if (category == "Amphibia" || category == "Mammalia" || category == "Reptilia") {
                        for (var i = 0; i < data.length; i++) {
                            if (data[i]["Class"] == category) {
                                unique = populateSpecies(i, row, unique, data[i]);
                            }
                        }
                    }
                }
            }
        }

        function updateFilterForm(category) {
        /*
        @author: Ishika Wikramanayake
        @start_date: 13-09-2019
        @end_date: 13-09-2019
        @description: Update the filter form when loading the page
        */
            if (category == "Amphibia") {
                document.getElementById("species-selected").selectedIndex = "1";
            }
            if (category == "Mammalia") {
                document.getElementById("species-selected").selectedIndex = "2";
            }
            if (category == "Reptilia") {
                document.getElementById("species-selected").selectedIndex = "3";
            }
            if (category == "Australian Capital Territory") {
                document.getElementById("state-selected").selectedIndex = "1";
            }
            if (category == "New South Wales") {
                document.getElementById("state-selected").selectedIndex = "2";
            }
            if (category == "Northern Territory") {
                document.getElementById("state-selected").selectedIndex = "3";
            }
            if (category == "Queensland") {
                document.getElementById("state-selected").selectedIndex = "4";
            }
            if (category == "South Australia") {
                document.getElementById("state-selected").selectedIndex = "5";
            }
            if (category == "Tasmania") {
                document.getElementById("state-selected").selectedIndex = "6";
            }
            if (category == "Victoria") {
                document.getElementById("state-selected").selectedIndex = "7";
            }
            if (category == "Western Australia") {
                document.getElementById("state-selected").selectedIndex = "8";
            }
        }

        function Search() {
        /*
        @author: Ishika Wikramanayake
        @start_date: 27-08-2019
        @end_date: 13-09-2019
        @description: Displays the endangered species images while typing
        */
            var category = decodeURIComponent(window.location.search);
            category = category.substring(10);
            var row = document.getElementById("species");
            while (row.firstChild) {
                row.removeChild(row.firstChild);
            }
            // get the typed words from the search box
            var input = document.getElementById("search");
            // convert to upper case
            var filter = input.value.toUpperCase();
            if (filter != "") {
                // check if only valid characters are used
                if (!filter.match(/^[A-Za-z\'\-\s]+$/)) {
                    // if not display error message
                    document.getElementById("error").innerHTML = "An invalid character was found.";
                    document.getElementById("error").style.color = "red";
                    document.getElementById("error").style.visibility = "visible";
                }
                else {
                    document.getElementById("error").style.visibility = "hidden";

                    // get the currently slected item index from all three filters
                    var speciesIndex = document.getElementById("species-selected").selectedIndex;
                    var stateIndex = document.getElementById("states-selected").selectedIndex;
                    var sortIndex = document.getElementById("sort-selected").selectedIndex;

                    var flag = 0;
                    var row = document.getElementById("species");
                    var unique = {};

                    // remove all the children html tags from the tag row
                    while (row.firstChild) {
                        row.removeChild(row.firstChild);
                    }

                    // sort the array of dictionaries by the key "Vernacular name - original"
                    var newlist = data.sort((a, b) => (a["Vernacular name - original"] > b["Vernacular name - original"]) ? 1 : -1);

                    if (speciesIndex == 0 && stateIndex == 0) {
                        document.getElementById("heading").innerHTML = "Australia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                var txtValue = data[i]["Vernacular name - original"];
                                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                    flag = 1;
                                    unique = populateSpecies(i, row, unique, data[i]);
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                var txtValue = data[i]["Vernacular name - original"];
                                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                    flag = 1;
                                    unique = populateSpecies(i, row, unique, data[i]);
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                var txtValue = data[i]["Vernacular name - original"];
                                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                    flag = 1;
                                    unique = populateSpecies(i, row, unique, data[i]);
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                var txtValue = data[i]["Vernacular name - original"];
                                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                    flag = 1;
                                    unique = populateSpecies(i, row, unique, data[i]);
                                }
                            }
                        }
                    }
                    if (speciesIndex == 0 && stateIndex == 1) {
                        document.getElementById("heading").innerHTML = "Australian Capital Territory";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 0 && stateIndex == 2) {
                        document.getElementById("heading").innerHTML = "New South Wales";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 0 && stateIndex == 3) {
                        document.getElementById("heading").innerHTML = "Northern Territory";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 0 && stateIndex == 4) {
                        document.getElementById("heading").innerHTML = "Queensland";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 0 && stateIndex == 5) {
                        document.getElementById("heading").innerHTML = "South Australia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 0 && stateIndex == 6) {
                        document.getElementById("heading").innerHTML = "Tasmania";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Tasmania") {
                                    flag = 1;
                                    unique = populateSpecies(i, row, unique, newlist[i]);
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 0 && stateIndex == 7) {
                        document.getElementById("heading").innerHTML = "Victoria";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 0 && stateIndex == 8) {
                        document.getElementById("heading").innerHTML = "Western Australia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 1 && stateIndex == 0) {
                        document.getElementById("heading").innerHTML = "Amphibia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 1 && stateIndex == 1) {
                        document.getElementById("heading").innerHTML = "Amphibia - Australian Capital Territory";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 1 && stateIndex == 2) {
                        document.getElementById("heading").innerHTML = "Amphibia - New South Wales";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 1 && stateIndex == 3) {
                        document.getElementById("heading").innerHTML = "Amphibia - Northern Territory";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 1 && stateIndex == 4) {
                        document.getElementById("heading").innerHTML = "Amphibia - Queensland";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 1 && stateIndex == 5) {
                        document.getElementById("heading").innerHTML = "Amphibia - South Australia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 1 && stateIndex == 6) {
                        document.getElementById("heading").innerHTML = "Amphibia - Tasmania";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 1 && stateIndex == 7) {
                        document.getElementById("heading").innerHTML = "Amphibia - Victoria";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 1 && stateIndex == 8) {
                        document.getElementById("heading").innerHTML = "Amphibia - Western Australia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 2 && stateIndex == 0) {
                        document.getElementById("heading").innerHTML = "Mammalia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 2 && stateIndex == 1) {
                        document.getElementById("heading").innerHTML = "Mammalia - Australian Capital Territory";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 2 && stateIndex == 2) {
                        document.getElementById("heading").innerHTML = "Mammalia - New South Wales";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 2 && stateIndex == 3) {
                        document.getElementById("heading").innerHTML = "Mammalia - Northern Territory";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 2 && stateIndex == 4) {
                        document.getElementById("heading").innerHTML = "Mammalia - Queensland";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 2 && stateIndex == 5) {
                        document.getElementById("heading").innerHTML = "Mammalia - South Australia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 2 && stateIndex == 6) {
                        document.getElementById("heading").innerHTML = "Mammalia - Tasmania";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 2 && stateIndex == 7) {
                        document.getElementById("heading").innerHTML = "Mammalia - Victoria";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 2 && stateIndex == 8) {
                        document.getElementById("heading").innerHTML = "Mammalia - Western Australia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 3 && stateIndex == 0) {
                        document.getElementById("heading").innerHTML = "Reptilia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 3 && stateIndex == 1) {
                        document.getElementById("heading").innerHTML = "Reptilia - Australian Capital Territory";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 3 && stateIndex == 2) {
                        document.getElementById("heading").innerHTML = "Reptilia - New South Wales";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "New South Wales") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 3 && stateIndex == 3) {
                        document.getElementById("heading").innerHTML = "Reptilia - Northern Territory";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Northern Territory") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 3 && stateIndex == 4) {
                        document.getElementById("heading").innerHTML = "Reptilia - Queensland";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Queensland") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 3 && stateIndex == 5) {
                        document.getElementById("heading").innerHTML = "Reptilia - South Australia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "South Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 3 && stateIndex == 6) {
                        document.getElementById("heading").innerHTML = "Reptilia - Tasmania";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Tasmania") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 3 && stateIndex == 7) {
                        document.getElementById("heading").innerHTML = "Reptilia - Victoria";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Victoria") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (speciesIndex == 3 && stateIndex == 8) {
                        document.getElementById("heading").innerHTML = "Reptilia - Western Australia";
                        if (sortIndex == 0) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 1) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 2) {
                            for (var i = 0; i < data.length; i++) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        if (sortIndex == 3) {
                            for (var i = data.length - 1; i >= 0; i--) {
                                if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Western Australia") {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                    }
                    if (flag == 0) {
                        var p = document.createElement("p");
                        p.innerHTML = "No results found.";
                        row.appendChild(p);
                    }









                    if (category == "Australia") {
                        for (i = 0; i < data.length; i++) {
                            var txtValue = data[i]["Vernacular name - original"];
                            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                flag = 1;
                                unique = populateSpecies(i, row, unique, data[i]);
                            }
                        }
                    }
                    else {
                        if (category == "Australian Capital Territory" || category == "New South Wales" || category == "Northern Territory" || category == "Queensland" || category == "South Australia" || category == "Tasmania" || category == "Victoria" || category == "Western Australia") {
                            for (i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == category) {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        unique = populateSpecies(i, row, unique, data[i]);
                                    }
                                }
                            }
                        }
                        else {
                            if (category == "Amphibia" || category == "Mammalia" || category == "Reptilia") {
                                for (i = 0; i < data.length; i++) {
                                    if (data[i]["Class"] == category) {
                                        var txtValue = data[i]["Vernacular name - original"];
                                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                            flag = 1;
                                            unique = populateSpecies(i, row, unique, data[i]);
                                        }
                                    }
                                }
                            }
                        }
                    }
                    if (flag == 0){
                        document.getElementById("error").innerHTML = "No results found.";
                        document.getElementById("error").style.color = "black";
                        document.getElementById("error").style.visibility = "visible";
                    }
                }
            }
            else {
                document.getElementById("error").style.visibility = "hidden";
                myFunction();
            }
        }

        function populateSpecies(i, row, unique, item) {
        /*
        @author: Ishika Wikramanayake
        @start_date: 13-09-2019
        @end_date: 13-09-2019
        @description: Opens the index.html page and passes the variable "value"
        */
            // update the occurence in the dictionary on encounter
            if (item["Vernacular name - original"] in unique){
                unique[item["Vernacular name - original"]] += 1;
            }
            else{
                // create html tags
                var div1 = document.createElement("div");
                var div2 = document.createElement("div");
                var div3 = document.createElement("div");
                var a1 = document.createElement("a");
                var div4 = document.createElement("div");
                var div5 = document.createElement("div");
                var div6 = document.createElement("div");
                var div7 = document.createElement("div");
                var h5 = document.createElement("h5");
                var p = document.createElement("p");

                // add relevant attributes to the tags created
                div1.setAttribute("class", "col-lg-4 col-md-6");
                div1.setAttribute("id", item["Vernacular name - original"]);
                div1.onclick = function() {
                    var value = this.id;
                    window.location.href = "info.html?species="+value;
                };

                div2.setAttribute("class", "room-items");

                div3.setAttribute("class", "room-img set-bg");

                var name = item["Vernacular name - original"].replace('\'', '_');

                var link = "url('images/" + name + ".jpg')";
                div3.style.content = link;

                a1.setAttribute("class", "room-content");

                div5.setAttribute("class", "room-text");

                div6.setAttribute("class", "room-details");

                div7.setAttribute("class", "room-title");

                h5.innerHTML = item["Vernacular name - original"];
                h5.style.textAlign = "center";

                p.innerHTML = "Ranking: # " + item["No"];
                p.style.textAlign = "center";

                // append children to get the proper order of the indented html tags
                div7.appendChild(h5);
                div7.appendChild(p);
                div6.appendChild(div7);
                div5.appendChild(div6);
                div2.appendChild(div3);
                div2.appendChild(div5);
                div1.appendChild(div2);
                row.appendChild(div1);

                unique[item["Vernacular name - original"]] = 1;
            }

            return unique;
        }

        function changeData() {
        /*
        @author: Ishika Wikramanayake
        @start_date: 13-09-2019
        @end_date: 13-09-2019
        @description: Opens the index.html page and passes the variable "value"
        */
            // empty the search field
            emptySearch();

            // get the indices of the selected items from the three filters
            var speciesIndex = document.getElementById("species-selected").selectedIndex;
            var stateIndex = document.getElementById("states-selected").selectedIndex;
            var sortIndex = document.getElementById("sort-selected").selectedIndex;

            var flag = 0;
            var row = document.getElementById("species");
            var unique = {};
            // remove all the children tags from the row tag
            while (row.firstChild) {
                row.removeChild(row.firstChild);
            }

            // sort the array of dictionaries in ascending order of the english name
            var newlist = data.sort((a, b) => (a["Vernacular name - original"] > b["Vernacular name - original"]) ? 1 : -1);

            if (speciesIndex == 0 && stateIndex == 0) {
                document.getElementById("heading").innerHTML = "Australia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        flag = 1;
                        unique = populateSpecies(i, row, unique, data[i]);
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        flag = 1;
                        unique = populateSpecies(i, row, unique, data[i]);
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        flag = 1;
                        unique = populateSpecies(i, row, unique, newlist[i]);
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        flag = 1;
                        unique = populateSpecies(i, row, unique, newlist[i]);
                    }
                }
            }
            if (speciesIndex == 0 && stateIndex == 1) {
                document.getElementById("heading").innerHTML = "Australian Capital Territory";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 0 && stateIndex == 2) {
                document.getElementById("heading").innerHTML = "New South Wales";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 0 && stateIndex == 3) {
                document.getElementById("heading").innerHTML = "Northern Territory";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 0 && stateIndex == 4) {
                document.getElementById("heading").innerHTML = "Queensland";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 0 && stateIndex == 5) {
                document.getElementById("heading").innerHTML = "South Australia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 0 && stateIndex == 6) {
                document.getElementById("heading").innerHTML = "Tasmania";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 0 && stateIndex == 7) {
                document.getElementById("heading").innerHTML = "Victoria";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 0 && stateIndex == 8) {
                document.getElementById("heading").innerHTML = "Western Australia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 1 && stateIndex == 0) {
                document.getElementById("heading").innerHTML = "Amphibia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 1 && stateIndex == 1) {
                document.getElementById("heading").innerHTML = "Amphibia - Australian Capital Territory";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 1 && stateIndex == 2) {
                document.getElementById("heading").innerHTML = "Amphibia - New South Wales";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 1 && stateIndex == 3) {
                document.getElementById("heading").innerHTML = "Amphibia - Northern Territory";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 1 && stateIndex == 4) {
                document.getElementById("heading").innerHTML = "Amphibia - Queensland";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 1 && stateIndex == 5) {
                document.getElementById("heading").innerHTML = "Amphibia - South Australia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 1 && stateIndex == 6) {
                document.getElementById("heading").innerHTML = "Amphibia - Tasmania";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 1 && stateIndex == 7) {
                document.getElementById("heading").innerHTML = "Amphibia - Victoria";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 1 && stateIndex == 8) {
                document.getElementById("heading").innerHTML = "Amphibia - Western Australia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Amphibia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 2 && stateIndex == 0) {
                document.getElementById("heading").innerHTML = "Mammalia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 2 && stateIndex == 1) {
                document.getElementById("heading").innerHTML = "Mammalia - Australian Capital Territory";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 2 && stateIndex == 2) {
                document.getElementById("heading").innerHTML = "Mammalia - New South Wales";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 2 && stateIndex == 3) {
                document.getElementById("heading").innerHTML = "Mammalia - Northern Territory";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 2 && stateIndex == 4) {
                document.getElementById("heading").innerHTML = "Mammalia - Queensland";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 2 && stateIndex == 5) {
                document.getElementById("heading").innerHTML = "Mammalia - South Australia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 2 && stateIndex == 6) {
                document.getElementById("heading").innerHTML = "Mammalia - Tasmania";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 2 && stateIndex == 7) {
                document.getElementById("heading").innerHTML = "Mammalia - Victoria";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 2 && stateIndex == 8) {
                document.getElementById("heading").innerHTML = "Mammalia - Western Australia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Mammalia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 3 && stateIndex == 0) {
                document.getElementById("heading").innerHTML = "Reptilia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 3 && stateIndex == 1) {
                document.getElementById("heading").innerHTML = "Reptilia - Australian Capital Territory";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Australian Capital Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 3 && stateIndex == 2) {
                document.getElementById("heading").innerHTML = "Reptilia - New South Wales";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "New South Wales") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 3 && stateIndex == 3) {
                document.getElementById("heading").innerHTML = "Reptilia - Northern Territory";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Northern Territory") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 3 && stateIndex == 4) {
                document.getElementById("heading").innerHTML = "Reptilia - Queensland";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Queensland") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 3 && stateIndex == 5) {
                document.getElementById("heading").innerHTML = "Reptilia - South Australia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "South Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 3 && stateIndex == 6) {
                document.getElementById("heading").innerHTML = "Reptilia - Tasmania";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Tasmania") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 3 && stateIndex == 7) {
                document.getElementById("heading").innerHTML = "Reptilia - Victoria";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Victoria") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (speciesIndex == 3 && stateIndex == 8) {
                document.getElementById("heading").innerHTML = "Reptilia - Western Australia";
                if (sortIndex == 0) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 1) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, data[i]);
                        }
                    }
                }
                if (sortIndex == 2) {
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
                if (sortIndex == 3) {
                    for (var i = data.length - 1; i >= 0; i--) {
                        if (data[i]["Class"] == "Reptilia" && data[i]["State - parsed"] == "Western Australia") {
                            flag = 1;
                            unique = populateSpecies(i, row, unique, newlist[i]);
                        }
                    }
                }
            }
            if (flag == 0) {
                var p = document.createElement("p");
                p.innerHTML = "No results found.";
                row.appendChild(p);
            }
        }
    </script>


</body>
</html>


