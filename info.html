<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Homes Template">
    <meta name="keywords" content="Homes, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Wild Cry | Species Information</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i"
          rel="stylesheet">
    <link rel="shortcut icon" href="logo-icon.png" type="image/x-icon">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/flaticon.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script>L_PREFER_CANVAS=false; L_NO_TOUCH=false; L_DISABLE_3D=false;</script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.2.0/dist/leaflet.css" />



    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
    <style>
        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
        }
    </style>

    <style>
        #map_9b7d76ad92c2435f8ef89790667a066b {
            position: relative;
            width: 100.0%;
            height: 100.0%;
            left: 0.0%;
            top: 0.0%;
        }
    </style>


</head>

<body onload="myFunction()">

    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>
    <!-- Header Section Begin -->
    <header class="header-section">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="logo">
                        <a href="./home.html">
                            <img src="logo7.png" alt="" style="        height: 60px;">

                        </a>
                    </div>
                    <ul class="main-menu" style="        padding-top: 10px;">
                        <li><a href="./home.html" style="        color: black;">Home</a></li>
                        <li><a href="#" onclick="AUS();" style="        color: black;">Search</a></li>
                        <li><a href="./about.html" style="        color: black;">About Us</a></li>


                    </ul>
                    <div id="mobile-menu-wrap"></div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header Section End -->
    <!-- Hero Section Begin -->
    <section class="hero-section home-page set-bg" data-setbg="img/bg.jpg" style="        height: 200px;
        margin-top: 100px;">
        <div class="container hero-text text-white">
            <h2 id="title"></h2>
        </div>
    </section>
    <!-- Hero Section End -->
    <section class="property-details">
        <div class="container">
            <div class="row sp-40 spt-40">
                <div class="col-lg-12">
                    <div class="p-ins">
                        <div class="row details-top">
                            <div class="col-lg-12">
                                <div class="t-details">
                                    <div class="register-id">
                                        <p style="color:#57595d;font-weight:bold;">Species Name: <span id="info0" style="font-weight:bold;"></span></p>
                                    </div>
                                    <div class="popular-room-features single-property">
                                        <div class="size" style="padding-right:10px;padding-left:10px;text-align:center;">
                                            <p style="text-align:center;color:#57595d;font-weight:bold;">Ranking</p>
                                            <span id="info1" style="text-align:center;font-weight:bold;"></span>
                                        </div>

                                        <div class="size" style="padding-right:10px;padding-left:10px;text-align:center;">
                                            <p style="text-align:center;color:#57595d;font-weight:bold;">Extinction Rate</p>
                                            <span id="info2" style="text-align:center;font-weight:bold;"></span>
                                        </div>
                                        <div class="size" style="padding-right:10px;padding-left:10px;text-align:center;">
                                            <p style="text-align:center;color:#57595d;font-weight:bold;"># Locations</p>
                                            <span id="info11" style="text-align:center;font-weight:bold;"></span>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-8">

                                <div class="property-features">
                                    <h4>Biological information</h4>
                                    <div class="property-table">
                                        <table>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">Scientific Names:</p>

                                                </td>
                                                <td>
                                                    <span id="info3"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">Kingdom:</p>

                                                </td>
                                                <td>
                                                    <span id="info4"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">Phylum:</p>

                                                </td>
                                                <td>
                                                    <span id="info5"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">Class:</p>

                                                </td>
                                                <td>
                                                    <span id="info6"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">Family:</p>

                                                </td>
                                                <td>
                                                    <span id="info7"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">Genus:</p>

                                                </td>
                                                <td><span id="info8"></span></td>
                                            </tr>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">Taxon Rank:</p>

                                                </td>
                                                <td>
                                                    <span id="info9"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">Colour:</p>

                                                </td>
                                                <td><span id="info12"></span></td>
                                            </tr>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">Size (cm):</p>

                                                </td>
                                                <td>
                                                    <span id="info13"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="width: 25%;">
                                                    <p style="color:#57595d;">States Currently Located:</p>

                                                </td>
                                                <td>
                                                    <span id="info10"></span>
                                                </td>
                                            </tr>

                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4 col-md-3">
                                <div class="room-items" style="margin-bottom: 0px;">
                                    <div id="img1" class="room-img set-bg" style="cursor:default;opacity:1;">

                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">

                                <div class="property-features">
                                    <h4>Description</h4>
                                    <div class="property-table">
                                        <table>
                                            <tr>
                                                <td>
                                                    <span id="info14"></span>
                                                </td>
                                            </tr>
                                         
                                            

                                        </table>
                                    </div>
                                </div>
                            </div>
                            


                            
                        </div>

                        <div class="row">
                            <div class="col-lg-12">

                                <div class="property-features">
                                    <h4>Habitat</h4>
                                    <div class="property-table">
                                        <table>
                                            <tr>
                                                <td>
                                                    <span id="info15"></span>
                                                </td>
                                            </tr>
                                         
                                            

                                        </table>
                                    </div>
                                </div>
                            </div>
                            


                            
                        </div>

                        

                        
                        <div class="row">
                            <div class="col-lg-12">

                                <div class="property-features" style="padding-top:30px;">
                                    <h4>Location</h4>
                                    <div class="location-map" style="padding-bottom: 20px;">


                                        <div class="col-lg-12" style="height:300px;">
                                            <div class="folium-map" id="map"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="property-features">
                                    <h4>Decline in the Existence Regions Over the past 5 Decades</h4>
                                    <div class="location-map">
                                        <div class="col-lg-12" style="height:300px;">
                                            <div id="line-chart"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>
    <!-- Single Property Deatails Section End -->
    <!-- Footer Section Begin -->
    <footer class="footer-section p-40">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <a href="./home.html">
                        <img src="logo7.png" alt="" style="        height: 60px;">
                    </a>
                </div>
            </div>
            <div class="row text-center d-flex justify-content-center pt-5 mb-3">
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="./home.html" style="color:white;">Home</a>
                    </h6>
                </div>
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="./about.html" style="color:white;">About Us</a>
                    </h6>
                </div>
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="#" onclick="AUS();" style="color:white;">Search</a>
                    </h6>
                </div>
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="#" onclick="AUS();" style="color:white;">Privacy Policy</a>
                    </h6>
                </div>
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="#" onclick="AUS();" style="color:white;">Terms and Conditions</a>
                    </h6>
                </div>
            </div>

        </div>

        <div class="row p-20">
            <div class="col-lg-12 text-center">
                <div class="copyright" style="        color: white;
        opacity: 0.6;">
                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    Copyright &copy;

                    <script>document.write(new Date().getFullYear());</script> All rights reserved | Wild Cry 2019
                    </a>
                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->
    <!-- Js Plugins -->
    <script type="text/javascript">
function AUS(){
            var value = "Australia";
            window.location.href = "index.html?category="+value;
        }

        function myFunction() {

            var species = decodeURIComponent(window.location.search);

            species = species.substring(9);
            document.getElementById("title").innerHTML = species;

             var locations = [];

            for (var i = 0; i < data.length; i++) {
                if (species == data[i]["Vernacular name - original"]){
                    locations.push([data[i]["Latitude"], data[i]["Longitude"]]);
                }
            }

            var bounds = null;
            var avg_lat = 0;
            var avg_lon = 0;
            for (var i = 0; i < locations.length; i++) {
                avg_lat += locations[i][0];
                avg_lon += locations[i][1];
            }
            avg_lat = avg_lat/locations.length;
            avg_lon = avg_lon/locations.length;

            var map = L.map(
                'map', {
                center: [-36.5, 145.5],
                zoom: 6.5,
                maxBounds: bounds,
                layers: [],
                worldCopyJump: false,
                crs: L.CRS.EPSG3857,
                zoomControl: true,
                });



            var tile_layer_34dc1c8b097545c0839c6284f5e8ba08 = L.tileLayer(
                'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
                {
                "attribution": null,
                "detectRetina": false,
                "maxNativeZoom": 18,
                "maxZoom": 18,
                "minZoom": 0,
                "noWrap": false,
                "subdomains": "abc"
            }).addTo(map);
                for (var i = 0; i < locations.length; i++) {
                    marker_14e63ebe7611422b82576480cb03a794 = L.marker(
                        [locations[i][0], locations[i][1]],
                        {
                            icon: new L.Icon.Default()
                            }
                        )

                        .addTo(map);


                }

            map.setView(new L.LatLng(-25.2744, 133.7751), 3);

            document.getElementById("info0").innerHTML = species;
            var link1 = "url('images/" + species + ".jpg')";
            document.getElementById("img1").style.content = link1;

            var flag = 0;
            unique_scientific = {};
            unique_states = {};

            var y_2018 = 22;
            var y_2008 = 3;
            var y_1998 = 5;
            var y_1988 = 7;
            var y_1978 = 3;
            var y_1968 = 4;

            for (var i = 0; i < data.length; i++) {
                if (species == data[i]["Vernacular name - original"]) {
                    if (flag == 0){

                        document.getElementById("info1").innerHTML = data[i]["No"];
                        var rate = parseFloat(data[i]["Rate_1968"]) * -1;
                        rate = String(rate);
                        rate = rate.slice(0, 5) + "%";
                        document.getElementById("info2").innerHTML = rate;
                        document.getElementById("info3").innerHTML = data[i]["Scientific Name"];
                        document.getElementById("info4").innerHTML = data[i]["Kingdom"];
                        document.getElementById("info5").innerHTML = data[i]["Phylum"];
                        document.getElementById("info6").innerHTML = data[i]["Class"];
                        document.getElementById("info7").innerHTML = data[i]["Family"];
                        document.getElementById("info8").innerHTML = data[i]["Genus"];
                        document.getElementById("info9").innerHTML = data[i]["Taxon Rank"];
                        document.getElementById("info10").innerHTML = data[i]["State - parsed"];
                        document.getElementById("info11").innerHTML = data[i]["freq"];
                        document.getElementById("info12").innerHTML = data[i]["Colour"];
                        document.getElementById("info13").innerHTML = data[i]["Size (cm)"];
                        document.getElementById("info14").innerHTML = data[i]["Description"];
                        document.getElementById("info15").innerHTML = data[i]["Habitat"];
                        unique_scientific[data[i]["Scientific Name"]] = 1;
                        unique_states[data[i]["State - parsed"]] = 1;

                        y_2018 = data[i]["2018"];
                        y_2008 = data[i]["2008"];
                        y_1998 = data[i]["1998"];
                        y_1988 = data[i]["1988"];
                        y_1978 = data[i]["1978"];
                        y_1968 = data[i]["1968"];
                        flag = 1;
                    }
                    else {

                        if (data[i]["Scientific Name"] in unique_scientific){
                            unique_scientific[data[i]["Scientific Name"]] += 1;
                        }
                        else{
                            alert(data[i]["Scientific Name"]);
                            document.getElementById("info3").innerHTML += ", " + data[i]["Scientific Name"];
                            unique_scientific[data[i]["Scientific Name"]] = 1;
                        }
                        if (data[i]["State - parsed"] in unique_states){
                            unique_states[data[i]["State - parsed"]] += 1;
                        }
                        else{
                            document.getElementById("info10").innerHTML += ", " + data[i]["State - parsed"];
                            unique_states[data[i]["State - parsed"]] = 1;
                        }

                    }

                }
            }

            var chart = new CanvasJS.Chart("line-chart", {
                animationEnabled: true,
                theme: "light2",
                axisX: {
                    title: "Year"
                },
                axisY: {
                    title: "Number of Locations"
                },
                data: [{
                    type: "line",
                    dataPoints: [
                        { y: y_1968, label: "1968"},
                        { y: y_1978, label: "1978"},
                        { y: y_1988, label: "1988"},
                        { y: y_1998, label: "1998"},
                        { y: y_2008, label: "2008" },
                        { y: y_2018, label: "2018"}
                    ]
                }]

            });
            chart.render();






        }</script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/main.js"></script>
    <script src="js/canvasjs.js"></script>
    <script src="js/data.js"></script>
</body>
</html>
