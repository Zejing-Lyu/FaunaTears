<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Homes Template">
    <meta name="keywords" content="Homes, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Wild Cry | Search</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i"
          rel="stylesheet">
    <link rel="shortcut icon" href="logo-icon.png" type="image/x-icon">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/flaticon.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">


</head>

<body onload="myFunction()">
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>
    <!-- Header Section Begin -->
    <header class="header-section">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="logo">
                        <a href="./home.html">
                            <img src="logo7.png" alt="" style="        height: 60px;">

                        </a>
                    </div>
                    <ul class="main-menu" style="        padding-top: 10px;">
                        <li><a href="./home.html" style="        color: black;">Home</a></li>
                        <li><a href="#" onclick="AUS();" style="        color: black;">Search</a></li>
                        <li><a href="./about.html" style="        color: black;">About Us</a></li>


                    </ul>
                    <div id="mobile-menu-wrap"></div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header Section End -->
    <!-- Hero Section Begin -->
    <section class="hero-section home-page set-bg" data-setbg="img/bg.jpg" style="        margin-top: 100px;">
        <div class="container hero-text text-white">
            <h2>Endangered Species in</h2>
            <h1 id="heading"></h1>
        </div>
    </section>
    <!-- Hero Section End -->
    <!-- Filter Search Section Begin -->
    <div class="filter-search">
        <div class="container ">
            <div class="row">
                <div class="col-lg-12">
                    <form class="filter-form">
                        <!--div class="search-type">
                            <p>Species Type</p>
                            <select class="filter-property">
                                <option value="">All</option>
                                <option value="">Amphibians</option>
                                <option value="">Mammals</option>
                                <option value="">Reptiles</option>
                            </select>
                        </div>
                        <div class="location">
                            <p>State</p>
                            <select class="filter-location">
                                <option value="">All</option>
                                <option value="">Australian Captial Terittory</option>
                                <option value="">New South Wales</option>
                                <option value="">Nothern Terittory</option>
                                <option value="">Queensland</option>
                                <option value="">South Australia</option>
                                <option value="">Tasmania</option>
                                <option value="">Victoria</option>
                                <option value="">Western Australia</option>
                            </select>
                        </div-->

                        <div class="onKey">
                            <p style="        text-align: center;
        font-size: 20px;
        color: #000000;">Search for an Endangered Species</p>

                            <input class="form-control form-control-lg" type="text" placeholder="&#x1F50D;  Search" onkeyup="Search();" id="search">
                            <input class="type" id="search" type="text" placeholder="" title="Type in a name" style="        visibility: hidden;
        display: none;">
                            <div id="error" style="        color: red;
        padding-top: 2%;
        visibility: hidden;
    ">
                                An invalid character was found.
                            </div>
                        </div>


                        <!--div class="search-btn">
                            <button type="submit"><i class="flaticon-search" onClick="javascript:Search()"></i>Search</button>

                        </div-->
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Filter Search Section End -->
    <!-- Hotel Room Section Begin -->
    <section class="hotel-rooms spad">
        <div class="container">
            <div class="row" id="species">

                <!--div class="col-lg-4 col-md-6">
                    <div class="room-items">
                        <div class="room-img set-bg" data-setbg="img/rooms/1.jpg">

                        </div>
                        <div class="room-text">
                            <div class="room-details">
                                <div class="room-title">

                                    <h5 style="text-align: center;">#1 Endagered Species Name</h5>

                                </div>
                            </div>

                        </div>
                    </div>
                </div-->


            </div>
        </div>
    </section>
    <!-- Footer Section Begin -->
    <footer class="footer-section p-40">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <a href="./home.html">
                        <img src="logo7.png" alt="" style="        height: 60px;">
                    </a>
                </div>
            </div>
            <div class="row text-center d-flex justify-content-center pt-5 mb-3">
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="./home.html" style="color:white;">Home</a>
                    </h6>
                </div>
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="./about.html" style="color:white;">About Us</a>
                    </h6>
                </div>
                <div class="col-md-2 mb-3">
                    <h6 class="text-uppercase font-weight-bold">
                        <a href="#" onclick="AUS();" style="color:white;">Search</a>
                    </h6>
                </div>

            </div>

        </div>

        <div class="row p-20">
            <div class="col-lg-12 text-center">
                <div class="copyright" style="        color: white;
        opacity: 0.6;">
                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    Copyright &copy;

                    <script>document.write(new Date().getFullYear());</script> All rights reserved | Wild Cry 2019
                    </a>
                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->
    <!-- Js Plugins -->
    <script type="text/javascript">
document.getElementById("search")
    .addEventListener("keyup", function(event) {
    event.preventDefault();
    if (event.keyCode === 13) {
        document.getElementById("id_of_button").click();
    }
});
    function AUS(){
            var value = "Australia";
            window.location.href = "index.html?category="+value;
        }


function myFunction() {

            var category = decodeURIComponent(window.location.search);

            category = category.substring(10);
            document.getElementById("heading").innerHTML = category;
            if (category == "Australia") {
                var row = document.getElementById("species");
                var unique = {};
                for (var i = 0; i < data.length; i++) {
                    if (data[i]["Vernacular name - original"] in unique){
                        unique[data[i]["Vernacular name - original"]] += 1;
                    }
                    else{
                        //alert(typeof data[i].Class);

                        var div1 = document.createElement("div");
                        var div2 = document.createElement("div");
                        var div3 = document.createElement("div");
                        var a1 = document.createElement("a");
                        var div4 = document.createElement("div");
                        var div5 = document.createElement("div");
                        var div6 = document.createElement("div");
                        var div7 = document.createElement("div");
                        var h5 = document.createElement("h5");
                        var p = document.createElement("p");

                        div1.setAttribute("class", "col-lg-4 col-md-6");
                        div1.setAttribute("id", data[i]["Vernacular name - original"]);
                        div1.onclick = function() {
                            var value = this.id;
                            window.location.href = "info.html?species="+value;
                        };

                        div2.setAttribute("class", "room-items");

                        div3.setAttribute("class", "room-img set-bg");

                        var name = data[i]["Vernacular name - original"].replace('\'', '_');

                        var link = "url('images/" + name + ".jpg')";
                        div3.style.content = link;

                        a1.setAttribute("class", "room-content");

                        div5.setAttribute("class", "room-text");

                        div6.setAttribute("class", "room-details");

                        div7.setAttribute("class", "room-title");

                        h5.innerHTML = data[i]["Vernacular name - original"];
                        h5.style.textAlign = "center";

                        p.innerHTML = "Ranking: # " + data[i]["No"];
                        p.style.textAlign = "center";


                        div7.appendChild(h5);
                        div7.appendChild(p);
                        div6.appendChild(div7);
                        div5.appendChild(div6);
                        div2.appendChild(div3);
                        div2.appendChild(div5);
                        div1.appendChild(div2);
                        row.appendChild(div1);

                        unique[data[i]["Vernacular name - original"]] = 1;
                    }

                }
            }
            else {
                if (category == "Australian Capital Territory" || category == "New South Wales" || category == "Northern Territory" || category == "Queensland" || category == "South Australia" || category == "Tasmania" || category == "Victoria" || category == "Western Australia") {

                    var row = document.getElementById("species");
                    var unique = {};
                    for (var i = 0; i < data.length; i++) {
                        if (data[i]["State - parsed"] == category) {

                            if (data[i]["Vernacular name - original"] in unique){
                                unique[data[i]["Vernacular name - original"]] += 1;
                            }
                            else{
                                //alert(typeof data[i].Class);

                                var div1 = document.createElement("div");
                                var div2 = document.createElement("div");
                                var div3 = document.createElement("div");
                                var a1 = document.createElement("a");
                                var div4 = document.createElement("div");
                                var div5 = document.createElement("div");
                                var div6 = document.createElement("div");
                                var div7 = document.createElement("div");
                                var h5 = document.createElement("h5");
                                var p = document.createElement("p");
                                div1.setAttribute("class", "col-lg-4 col-md-6");
                                div1.setAttribute("id", data[i]["Vernacular name - original"]);
                                div1.onclick = function() {
                                    var value = this.id;
                                    window.location.href = "info.html?species="+value;
                                };
                                div2.setAttribute("class", "room-items");

                                div3.setAttribute("class", "room-img set-bg");

                                var name = data[i]["Vernacular name - original"].replace('\'', '_');

                                var link = "url('images/" + name + ".jpg')";
                                div3.style.content = link;

                                a1.setAttribute("class", "room-content");

                                div5.setAttribute("class", "room-text");

                                div6.setAttribute("class", "room-details");

                                div7.setAttribute("class", "room-title");

                                h5.innerHTML = data[i]["Vernacular name - original"];
                                h5.style.textAlign = "center";

                                p.innerHTML = "Ranking: # " + data[i]["No"];
                                p.style.textAlign = "center";


                                div7.appendChild(h5);
                                div7.appendChild(p);
                                div6.appendChild(div7);
                                div5.appendChild(div6);
                                div2.appendChild(div3);
                                div2.appendChild(div5);
                                div1.appendChild(div2);
                                row.appendChild(div1);

                                unique[data[i]["Vernacular name - original"]] = 1;
                            }
                        }

                    }
                }
                else {
                    if (category == "Amphibia" || category == "Mammalia" || category == "Reptilia") {

                        var row = document.getElementById("species");
                        var unique = {};
                        for (var i = 0; i < data.length; i++) {
                            if (data[i]["Class"] == category) {

                                if (data[i]["Vernacular name - original"] in unique){
                                    unique[data[i]["Vernacular name - original"]] += 1;
                                }
                                else{
                                    //alert(typeof data[i].Class);

                                    var div1 = document.createElement("div");
                                    var div2 = document.createElement("div");
                                    var div3 = document.createElement("div");
                                    var a1 = document.createElement("a");
                                    var div4 = document.createElement("div");
                                    var div5 = document.createElement("div");
                                    var div6 = document.createElement("div");
                                    var div7 = document.createElement("div");
                                    var h5 = document.createElement("h5");
                                    var p = document.createElement("p");
                                    div1.setAttribute("class", "col-lg-4 col-md-6");
                                    div1.setAttribute("id", data[i]["Vernacular name - original"]);
                                    div1.onclick = function() {
                                        var value = this.id;
                                        window.location.href = "info.html?species="+value;
                                    };
                                    div2.setAttribute("class", "room-items");

                                    div3.setAttribute("class", "room-img set-bg");

                                    var name = data[i]["Vernacular name - original"].replace('\'', '_');

                                    var link = "url('images/" + name + ".jpg')";
                                    div3.style.content = link;

                                    a1.setAttribute("class", "room-content");

                                    div5.setAttribute("class", "room-text");

                                    div6.setAttribute("class", "room-details");

                                    div7.setAttribute("class", "room-title");

                                    h5.innerHTML = data[i]["Vernacular name - original"];
                                    h5.style.textAlign = "center";

                                    p.innerHTML = "Ranking: # " + data[i]["No"];
                                    p.style.textAlign = "center";


                                    div7.appendChild(h5);
                                    div7.appendChild(p);
                                    div6.appendChild(div7);
                                    div5.appendChild(div6);
                                    div2.appendChild(div3);
                                    div2.appendChild(div5);
                                    div1.appendChild(div2);
                                    row.appendChild(div1);

                                    unique[data[i]["Vernacular name - original"]] = 1;
                                }
                            }

                        }
                    }

                }
            }


        }


        function Search() {

            var category = decodeURIComponent(window.location.search);
            category = category.substring(10);
            var row = document.getElementById("species");
            while (row.firstChild) {
                row.removeChild(row.firstChild);
            }
            var input = document.getElementById("search");
            var filter = input.value.toUpperCase();
            flag = 0;
            if (filter != "") {
                if (!filter.match(/^[A-Za-z\'\-]+$/)) {
                    document.getElementById("error").innerHTML = "An invalid character was found.";
                    document.getElementById("error").style.color = "red";
                    document.getElementById("error").style.visibility = "visible";
                }
                else {
                    document.getElementById("error").style.visibility = "hidden";
                        var dict = {};
                    if (category == "Australia") {
                        for (i = 0; i < data.length; i++) {
                            var txtValue = data[i]["Vernacular name - original"];
                            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                flag = 1;
                                if (data[i]["Vernacular name - original"] in dict){
                                    dict[data[i]["Vernacular name - original"]] += 1;
                                }
                                else {
                                    var div1 = document.createElement("div");
                                    var div2 = document.createElement("div");
                                    var div3 = document.createElement("div");
                                    var a1 = document.createElement("a");
                                    var div4 = document.createElement("div");
                                    var div5 = document.createElement("div");
                                    var div6 = document.createElement("div");
                                    var div7 = document.createElement("div");
                                    var h5 = document.createElement("h5");
                                    var p = document.createElement("p");
                                    div1.setAttribute("class", "col-lg-4 col-md-6");
                                    div1.setAttribute("id", data[i]["Vernacular name - original"]);
                                    div1.onclick = function() {
                                        var value = this.id;
                                        window.location.href = "info.html?species="+value;
                                    };
                                    div2.setAttribute("class", "room-items");
                                    div3.setAttribute("class", "room-img set-bg");
                                    var name = data[i]["Vernacular name - original"].replace('\'', '_');
                                    var link = "url('images/" + name + ".jpg')";
                                    div3.style.content = link;
                                    a1.setAttribute("class", "room-content");

                                    div5.setAttribute("class", "room-text");

                                    div6.setAttribute("class", "room-details");

                                    div7.setAttribute("class", "room-title");

                                    h5.innerHTML = data[i]["Vernacular name - original"];
                                    h5.style.textAlign = "center";

                                    p.innerHTML = "Ranking: # " + data[i]["No"];
                                    p.style.textAlign = "center";


                                    div7.appendChild(h5);
                                    div7.appendChild(p);
                                    div6.appendChild(div7);
                                    div5.appendChild(div6);
                                    div2.appendChild(div3);
                                    div2.appendChild(div5);
                                    div1.appendChild(div2);
                                    row.appendChild(div1);

                                    dict[data[i]["Vernacular name - original"]] = 1;
                                }

                            }

                        }

                    }
                    else {
                        if (category == "Australian Capital Territory" || category == "New South Wales" || category == "Northern Territory" || category == "Queensland" || category == "South Australia" || category == "Tasmania" || category == "Victoria" || category == "Western Australia") {
                            for (i = 0; i < data.length; i++) {
                                if (data[i]["State - parsed"] == category) {
                                    var txtValue = data[i]["Vernacular name - original"];
                                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                        flag = 1;
                                        if (data[i]["Vernacular name - original"] in dict){
                                            dict[data[i]["Vernacular name - original"]] += 1;
                                        }
                                        else {
                                            var div1 = document.createElement("div");
                                            var div2 = document.createElement("div");
                                            var div3 = document.createElement("div");
                                            var a1 = document.createElement("a");
                                            var div4 = document.createElement("div");
                                            var div5 = document.createElement("div");
                                            var div6 = document.createElement("div");
                                            var div7 = document.createElement("div");
                                            var h5 = document.createElement("h5");
                                            var p = document.createElement("p");
                                            div1.setAttribute("class", "col-lg-4 col-md-6");
                                            div1.setAttribute("id", data[i]["Vernacular name - original"]);
                                            div1.onclick = function() {
                                                var value = this.id;
                                                window.location.href = "info.html?species="+value;
                                            };
                                            div2.setAttribute("class", "room-items");
                                            div3.setAttribute("class", "room-img set-bg");
                                            var name = data[i]["Vernacular name - original"].replace('\'', '_');
                                            var link = "url('images/" + name + ".jpg')";
                                            div3.style.content = link;
                                            a1.setAttribute("class", "room-content");

                                            div5.setAttribute("class", "room-text");

                                            div6.setAttribute("class", "room-details");

                                            div7.setAttribute("class", "room-title");

                                            h5.innerHTML = data[i]["Vernacular name - original"];
                                            h5.style.textAlign = "center";

                                            p.innerHTML = "Ranking: # " + data[i]["No"];
                                            p.style.textAlign = "center";


                                            div7.appendChild(h5);
                                            div7.appendChild(p);
                                            div6.appendChild(div7);
                                            div5.appendChild(div6);
                                            div2.appendChild(div3);
                                            div2.appendChild(div5);
                                            div1.appendChild(div2);
                                            row.appendChild(div1);

                                            dict[data[i]["Vernacular name - original"]] = 1;
                                        }

                                    }
                                }
                            }
                        }
                        else {
                            if (category == "Amphibia" || category == "Mammalia" || category == "Reptilia") {
                                for (i = 0; i < data.length; i++) {
                                    if (data[i]["Class"] == category) {
                                        var txtValue = data[i]["Vernacular name - original"];
                                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                            flag = 1;
                                            if (data[i]["Vernacular name - original"] in dict){
                                                dict[data[i]["Vernacular name - original"]] += 1;
                                            }
                                            else {
                                                var div1 = document.createElement("div");
                                                var div2 = document.createElement("div");
                                                var div3 = document.createElement("div");
                                                var a1 = document.createElement("a");
                                                var div4 = document.createElement("div");
                                                var div5 = document.createElement("div");
                                                var div6 = document.createElement("div");
                                                var div7 = document.createElement("div");
                                                var h5 = document.createElement("h5");
                                                var p = document.createElement("p");
                                                div1.setAttribute("class", "col-lg-4 col-md-6");
                                                div1.setAttribute("id", data[i]["Vernacular name - original"]);
                                                div1.onclick = function() {
                                                    var value = this.id;
                                                    window.location.href = "info.html?species="+value;
                                                };
                                                div2.setAttribute("class", "room-items");
                                                div3.setAttribute("class", "room-img set-bg");
                                                var name = data[i]["Vernacular name - original"].replace('\'', '_');
                                                var link = "url('images/" + name + ".jpg')";
                                                div3.style.content = link;
                                                a1.setAttribute("class", "room-content");

                                                div5.setAttribute("class", "room-text");

                                                div6.setAttribute("class", "room-details");

                                                div7.setAttribute("class", "room-title");

                                                h5.innerHTML = data[i]["Vernacular name - original"];
                                                h5.style.textAlign = "center";

                                                p.innerHTML = "Ranking: # " + data[i]["No"];
                                                p.style.textAlign = "center";


                                                div7.appendChild(h5);
                                                div7.appendChild(p);
                                                div6.appendChild(div7);
                                                div5.appendChild(div6);
                                                div2.appendChild(div3);
                                                div2.appendChild(div5);
                                                div1.appendChild(div2);
                                                row.appendChild(div1);

                                                dict[data[i]["Vernacular name - original"]] = 1;
                                            }

                                        }
                                    }
                                }
                            }
                        }
                    }
                    if (flag == 0){
                        document.getElementById("error").innerHTML = "No results found.";
                        document.getElementById("error").style.color = "black";
                        document.getElementById("error").style.visibility = "visible";

                    }
                }

            }

            else {
                document.getElementById("error").style.visibility = "hidden";
                myFunction();
            }
        }</script>

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/main.js"></script>
    <script src="js/data.js"></script>
</body>
</html>
